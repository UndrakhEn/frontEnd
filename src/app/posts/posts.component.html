<div nz-row class="main" *ngFor="let i of listData">
  <div nz-col nzSpan="24">
    <div nz-row>
      <div nz-col nzSpan="2">
        <nz-avatar
          class="postAvatar"
          [nzText]="!i.is_vissible ? i.user.f_name.substr(0, 1) : 'О'"
          [nzSize]="48"
          [nzSrc]="i.avatar"
        ></nz-avatar>
      </div>
      <div nz-col nzSpan="15">
        <span
          ><span class="post-user" *ngIf="!i.is_vissible">
            {{ i.user.l_name }} {{ i.user.f_name }}
          </span>
          <span class="post-user" *ngIf="i.is_vissible">Оюутан</span>
        </span>
        <span class="red" *ngIf="!i.is_thanks">
          Санал хүсэлт
          <i
            nz-icon
            nzType="warning"
            *ngIf="i.perfor_code != 'done'"
            nzTheme="outline"
          ></i>
          <i
            nz-icon
            class="green"
            nzType="check-circle"
            *ngIf="i.perfor_code == 'done'"
            nzTheme="outline"
          ></i>
        </span>
        <span class="green" *ngIf="i.is_thanks">
          Талархал <i nz-icon nzType="check-circle" nzTheme="outline"></i
        ></span>

        <p>{{ i.created_date | date: "yyyy/M/d HH:mm" }}</p>
      </div>
      <div nz-col nzSpan="6"></div>
    </div>
    <div nz-row>
      <div nz-col nzSpan="24">
        <p>
          {{ i.body.substring(0, 300) }}...

          <a routerLink="/app/post/{{ i._id }}"
            ><i nz-icon nzType="right-circle" nzTheme="outline"></i
          ></a>
        </p>
      </div>
    </div>
    <div nz-row nzGutter="24">
      <div nz-col nzSpan="6" *ngFor="let j of i.images.slice(0, 4)">
        <div><img class="img" [src]="j.thumbUrl" /></div>
      </div>
    </div>
    <div nz-row>
      <div nz-col nzSpan="24">
        <a (click)="like(i._id)">
          <span class="postReaction">
            <i nz-icon nzType="like-o" style="margin-right: 8px;"></i
            >{{ i.like_cnt.length }}
          </span>
        </a>
        <nz-divider nzType="vertical"></nz-divider>
        <a (click)="dislike(i._id)">
          <span class="postReaction">
            <i nz-icon nzType="dislike-o" style="margin-right: 8px;"></i
            >{{ i.dislike_cnt.length }}
          </span></a
        >
        <nz-divider nzType="vertical"></nz-divider>
        <a routerLink="/app/post/{{ i._id }}">
          <span class="postReaction">
            <i nz-icon nzType="message" style="margin-right: 8px;"></i>
            {{ i.comment_cnt }}
          </span></a
        >
      </div>
    </div>
  </div>
</div>
