<div nz-row class="main">
  <div nz-col nzSpan="24">
    <div nz-row>
      <div nz-col nzSpan="2">
        <nz-avatar
          class="postAvatar"
          [nzText]="!postData['is_vissible'] ? name.f_name.substr(0, 1) : 'О'"
          [nzSize]="48"
          [nzSrc]=""
        ></nz-avatar>
      </div>
      <div nz-col nzSpan="15">
        <span class="post-user" *ngIf="!postData['is_vissible']">
          {{ name.f_name }} {{ name.l_name }}
        </span>
        <span class="post-user" *ngIf="postData['is_vissible']">Оюутан</span>
        <span class="red" *ngIf="!postData['is_thanks']"> Санал хүсэлт</span>
        <span class="green" *ngIf="postData['is_thanks']"> Талархал</span>
        <p>{{ postData["created_date"] | date: "yyyy/M/d HH:mm" }}</p>
      </div>
      <div nz-col nzSpan="6"></div>
    </div>
    <div nz-row>
      <div nz-col nzSpan="24">
        <p>
          {{ postData["body"] }}
          <!-- 
          <a routerLink="/app/posts"
            ><i nz-icon nzType="left-circle" nzTheme="outline"></i
          ></a> -->
        </p>
      </div>
    </div>
    <!-- <div nz-row nzGutter="24">
      <div nz-col nzSpan="12" *ngFor="let j of postData['images'].slice(0, 2)">
        <div><img class="img" [src]="j" /></div>
      </div>
    </div> -->
    <div nz-row>
      <div nz-col nzSpan="24">
        <span class="postReaction">
          <i nz-icon nzType="like-o" style="margin-right: 8px;"></i
          >{{ postData["like_cnt"] }}
        </span>
        <nz-divider nzType="vertical"></nz-divider>
        <span class="postReaction">
          <i nz-icon nzType="dislike-o" style="margin-right: 8px;"></i
          >{{ postData["dislike_cnt"] }}
        </span>
        <nz-divider nzType="vertical"></nz-divider>
        <span class="postReaction">
          <i nz-icon nzType="message" style="margin-right: 8px;"></i>
          {{ postData["comments_cnt"] }}
        </span>
      </div>
    </div>
  </div>

  <div nz-col nzSpan="24">
    <div *ngFor="let i of commentData">
      <nz-comment
        [nzAuthor]="i.user[0].l_name + ' ' + i.user[0].f_name"
        [nzDatetime]="i.created_date | date: 'yyyy/M/d HH:mm'"
      >
        <nz-avatar
          nz-comment-avatar
          [nzText]="i.user[0].f_name.substr(0, 1)"
        ></nz-avatar>
        <nz-comment-content>
          <p>
            {{ i.body }}
          </p>
        </nz-comment-content>
        <nz-comment-action>
          <i
            nz-tooltip
            nz-icon
            nzType="like"
            [theme]="likes > 0 ? 'twotone' : 'outline'"
            (click)="like()"
          ></i>
          <span class="count like">{{ i.like_cnt }}</span>
        </nz-comment-action>
        <nz-comment-action>
          <i
            nz-tooltip
            nz-icon
            nzType="dislike"
            [theme]="dislikes > 0 ? 'twotone' : 'outline'"
            (click)="dislike()"
          ></i>
          <span class="count dislike">{{ i.dislike_cnt }}</span>
        </nz-comment-action>
        <nz-comment-action>хариу бичих</nz-comment-action>
      </nz-comment>
    </div>
  </div>
  <div nz-col nzSpan="24">
    <form nz-form [formGroup]="commentForm" (ngSubmit)="writeComment()">
      <nz-form-item>
        <nz-form-control>
          <textarea formControlName="comment" nz-input rows="3"></textarea>
        </nz-form-control>
      </nz-form-item>
      <nz-form-item>
        <nz-form-control>
          <button
            nz-button
            nzType="primary"
            [disabled]="this.commentForm.invalid"
          >
            Илгээх
          </button>
        </nz-form-control>
      </nz-form-item>
    </form>
  </div>
</div>
